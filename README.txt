麻雀の役計算問題を出題するソフトを友人の為に製作途中です。現在は鳴かずに作ることのできる役を抽選するところまでのプログラムになります(C++で作成中)。

役の抽選については

1.役満か通常の役かを疑似乱数を用いて選択。この時の確率は4人麻雀にて役満が出現する確率使用。
2.mainからyakchoseを呼びだし、yakchoseにて立直や親か否かを決める。この時も親は1/4の疑似乱数、立直も麻雀において実際に出現する確率を元に疑似乱数にて決定

3.面前フラグが立った場合、menzen関数を呼びだす。この時の引数はreachフラグとreachを加えた現在の役数である。

4.各役の出現率に基づいて疑似乱数を用いて決定し、最終的な役数は4翻が最も出現率が高くなるようにする。

5.製作途中のため正常な動作をしているか確認をするために、抽選された役を出力する

以上がyakver2のプログラムの概要です
簡易的なフローチャートも添付しておきます。

2024/11/05
海底の役抽選におけるプログラムを関数化
それに伴い、プログラム全体の修正を行いました
小畑陽樹